<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Calculateur IMC</title>
</head>
<body>
    <h1>Calculateur d'Indice de Masse Corporelle (IMC)</h1>

    <form method="POST">
        <label for="poids">Poids (kg) :</label>
        <input type="number" step="0.1" name="poids" required><br><br>

        <label for="taille">Taille (m) :</label>
        <input type="number" step="0.01" name="taille" required><br><br>

        <button type="submit">Calculer</button>
    </form>

    {% if error %}
        <p style="color:red;"><b>Erreur :</b> {{ error }}</p>
    {% endif %}

    <h2>Dernier calcul d'IMC :</h2>
    {% if results %}
    <p>Poids: {{ results[0][0] }} kg | Taille: {{ results[0][1] }} m | IMC: {{ results[0][2] }} ({{ results[0][3] }})</p>
    {% endif %}

    <h2>Historique des 5 derniers calculs d'IMC :</h2>
    <ul>
        {% for poids, taille, imc, interpretation in results %}
            <li>Poids: {{ poids }} kg | Taille: {{ taille }} m | IMC: {{ imc }} ({{ interpretation }})</li>
        {% endfor %}
    </ul>
</body>
</html>
